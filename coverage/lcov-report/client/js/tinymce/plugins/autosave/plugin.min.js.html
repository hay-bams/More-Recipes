<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for client/js/tinymce/plugins/autosave/plugin.min.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../../../index.html">All files</a> / <a href="index.html">client/js/tinymce/plugins/autosave</a> plugin.min.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/73</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/29</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/35</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/1</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1</td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">!function(){"<span class="cstat-no" title="statement not covered" >u<span class="fstat-no" title="function not covered" >se</span> strict";var t=function(e){var r<span class="cstat-no" title="statement not covered" >=e,n=func<span class="fstat-no" title="function not covered" >ti</span>on(){return <span class="cstat-no" title="statement not covered" >r}</span>;ret<span class="cstat-no" title="statement not covered" >urn{get:n<span class="fstat-no" title="function not covered" >,s</span>et:<span class="cstat-no" title="statement not covered" >function(t</span>)<span class="cstat-no" title="statement not covered" ></span>{r=t},clone:function(){return t<span class="fstat-no" title="function not covered" >(n()</span>)}}}<span class="cstat-no" title="statement not covered" >,e=tiny</span>mce.util.Tools.res<span class="fstat-no" title="function not covered" >olve("</span>tin<span class="cstat-no" title="statement not covered" >ymce.PluginMana</span>ger"</span>)</span>,r=t<span class="cstat-no" title="statement not covered" >inymce.util.Tools.resolve("tinymce.util.LocalStorage</span>"),n<span class="cstat-no" title="statement not covered" >=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=func</span>tion<span class="cstat-no" title="statement not covered" >(t){return t.fire("RestoreDraft")},o=function(t){</span>retu<span class="cstat-no" title="statement not covered" >rn t.fire<span class="fstat-no" title="function not covered" >("</span>Stor<span class="cstat-no" title="statement not covered" >eDraft")},i=function(t){return </span>t</span>.fir<span class="cstat-no" title="statement not covered" >e("Remove<span class="fstat-no" title="function not covered" >Dr</span>aft"<span class="cstat-no" title="statement not covered" >)},s=function(t,e){return((t=</span>/</span>^(\d<span class="cstat-no" title="statement not covered" >+)([ms]?)<span class="fstat-no" title="function not covered" >$/</span>.exe<span class="cstat-no" title="statement not covered" >c(""+(t||e)))[2]?{s:1e3,m:6e4}</span>[</span>t[2]<span class="cstat-no" title="statement not covered" >]:1)*pars<span class="fstat-no" title="function not covered" >eI</span>nt(t,10<span class="cstat-no" title="statement not covered" >)},u=function(t){return t.getParam("autosave_ask_before_unload",!0)},f=function(t){var e=t.getParam("auto</span>s</span>ave_<span class="cstat-no" title="statement not covered" >prefix","<span class="fstat-no" title="function not covered" >ti</span>nymc<span class="cstat-no" title="statement not covered" >e-autosave-{path}{query}{hash}-{id}-");return e=(e=(e</span>=</span>(e=e<span class="cstat-no" title="statement not covered" >.replace(<span class="fstat-no" title="function not covered" >/\</span>{path\}/g,do<span class="cstat-no" title="statement not covered" >cument.location.pathname)).replace(/\{query\}/g,document.location.search)).r<span class="cstat-no" title="statement not covered" ></span>eplace(/\{hash\}/g,document.location.hash)).replace(/\{id\}/g,t.id)},c=function(t){return s(t.settings.autosave_interval,"30s")},l=function(t){return s(t.settings.autosave_retention,"20m")},m=functio</span>n</span>(t,e<span class="cstat-no" title="statement not covered" >){var r=t<span class="fstat-no" title="function not covered" >.s</span>etti<span class="cstat-no" title="statement not covered" >ngs.forced_root_block;return""===(e=n.trim(void</span> </span>0===<span class="cstat-no" title="statement not covered" >e?t.getBo<span class="fstat-no" title="function not covered" >dy</span>().i<span class="cstat-no" title="statement not covered" >nnerHTML:e))||new RegExp("^&lt;"+r+"[^&gt;]*&gt;((\xa0|&amp;n</span>b</span>sp;|<span class="cstat-no" title="statement not covered" >[ \t]|&lt;br<span class="fstat-no" title="function not covered" >[^</span>&gt;]*&gt;)+?|)&lt;/"+r+<span class="cstat-no" title="statement not covered" >"&gt;|&lt;br&gt;$","i").test(e)},v=fun<span class="cstat-no" title="statement not covered" ></span>ction(t){var e=parseInt(r.getItem(f(t)+"time"),10)||0;return!((new Date).getTime()-e&gt;l(t)&amp;&amp;(d(t,!1),1))},d=function(t,e){var n=f(t);r.removeItem(n+"draft"),r.removeItem(n</span>+</span>"tim<span class="cstat-no" title="statement not covered" >e"),!1!==<span class="fstat-no" title="function not covered" >e&amp;</span>&amp;i(t)},D=fun<span class="cstat-no" title="statement not covered" >ction(t){var e=f(t);!m(t)&amp;&amp;t.isDirty()&amp;&amp;(r.s<span class="cstat-no" title="statement not covered" ></span>etItem(e+"draft",t.getContent({format:"raw",no_events:!0})),</span>r</span>.set<span class="cstat-no" title="statement not covered" >Item(e+"t<span class="fstat-no" title="function not covered" >im</span>e",(new Date).g<span class="cstat-no" title="statement not covered" >etTim<span class="cstat-no" title="statement not covered" ></span>e().toString()),o(t))},g=function(t){var e=f(t);v(t)&amp;&amp;(t.setContent(r.g</span>e</span>tIte<span class="cstat-no" title="statement not covered" >m(e+"draf<span class="fstat-no" title="function not covered" >t"</span>),{format:"r<span class="cstat-no" title="statement not covered" >aw"})<span class="cstat-no" title="statement not covered" ></span>,a(t))},y={isEmpty:m,hasDraft:v,removeDraft:d,storeDraft:D,restoreDraft:g,startStoreDraft:function(t,e){var r=c(t);e.get()||(setInterval(function(){t.removed||D</span>(</span>t)},<span class="cstat-no" title="statement not covered" >r),e.set(<span class="fstat-no" title="function not covered" >!0</span>))},restoreL<span class="cstat-no" title="statement not covered" >astDr<span class="cstat-no" title="statement not covered" ></span>aft:function(t){t.undoManager.transact(function(){g(t),d(t)}),t.focus()}}</span>,</span>p=fu<span class="cstat-no" title="statement not covered" >nction(t,e){return function(){var r=Array.prototype.slice.call(arguments);return t.apply(null,[e].con<span class="fstat-no" title="function not covered" >cat(r))}},h=func</span>tion(t){return{<span class="cstat-no" title="statement not covered" >hasDr<span class="cstat-no" title="statement not covered" ></span>aft:p(y.hasDraft,t),stor<span class="fstat-no" title="function not covered" >eD</span>raft:p(y.st<span class="cstat-no" title="statement not covered" >oreDraft,t),restore</span>Draft:p(y.restoreD</span>raft,t),removeDraft:p(y.remov<span class="fstat-no" title="function not covered" >eDraft,t),isEmpty</span>:p(y<span class="cstat-no" title="statement not covered" >.isEmpty,t)}},_=tinymce<span class="fstat-no" title="function not covered" >.u</span>til.Tools.r<span class="cstat-no" title="statement not covered" >esolve("tiny</span>mce.EditorMana</span>ger</span>");_<span class="cstat-no" title="statement not covered" >._beforeU<span class="fstat-no" title="function not covered" >nl</span>oadHand<span class="cstat-no" title="statement not covered" >ler=fun<span class="fstat-no" title="function not covered" >ct</span>ion(){var t;return <span class="cstat-no" title="statement not covered" >n.each(_.get(),function(e){e.plugins.a<span class="cstat-no" title="statement not covered" ></span>utosave&amp;&amp;e.plugins.autosave.storeDraf</span>t(</span>)</span>,!t&amp;<span class="cstat-no" title="statement not covered" >&amp;e.isDirt<span class="fstat-no" title="function not covered" >y(</span>)&amp;&amp;u<span class="cstat-no" title="statement not covered" >(e)&amp;&amp;(t=e.translate("You have unsaved changes are you sure you want to navigate away?"))}),t};var b=function(t){window.onbeforeunload=_._beforeUnloadHandler},I=functio</span>n</span>(t,e<span class="cstat-no" title="statement not covered" >){return function(r){var n=r.control;n.disabled(!y.h<span class="cstat-no" title="statement not covered" ></span>asDraft(t)),t.on("StoreDr<span class="fstat-no" title="function not covered" >af</span>t RestoreDraft Re<span class="cstat-no" title="statement not covered" >moveDraft",function(){n<span class="fstat-no" title="function not covered" >.d</span>isabled(!y.h<span class="cstat-no" title="statement not covered" >asDraft(t))}),y.startStoreDraft(t,e)}},w=function(t,e){t.addButton("restoredraft",{title:"Restore last draft",onclick:function(){y.restoreLastDraft(t)},onPostRender:I(t,e)</span>}),t.a</span>dd</span>MenuIte<span class="cstat-no" title="statement not covered" >m("restor<span class="fstat-no" title="function not covered" >ed</span>raft<span class="cstat-no" title="statement not covered" >",{text:"Restore last draft",onclick:function(){</span>y</span>.res<span class="cstat-no" title="statement not covered" >toreLastD<span class="fstat-no" title="function not covered" >ra</span>ft(t)},<span class="cstat-no" title="statement not covered" >onPostR<span class="fstat-no" title="function not covered" >en</span>der:I(t,e),context:"<span class="cstat-no" title="statement not covered" >file"})};e<span class="cstat-no" title="statement not covered" ></span>.add("autosave",function(e){var r=t(!1);return b(e),w(e,r),h(e)})}();<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Thu Mar 15 2018 17:06:20 GMT+0100 (WAT)
</div>
</div>
<script src="../../../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../../../sorter.js"></script>
</body>
</html>
