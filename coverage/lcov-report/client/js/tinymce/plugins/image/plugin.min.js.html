<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for client/js/tinymce/plugins/image/plugin.min.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../../../index.html">All files</a> / <a href="index.html">client/js/tinymce/plugins/image</a> plugin.min.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/198</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/229</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/94</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/1</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1</td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">!function(){"<span class="cstat-no" title="statement not covered" >u<span class="fstat-no" title="function not covered" >se</span> strict";var e=tinymce.util.Tool<span class="cstat-no" title="statement not covered" >s.resolve("tinymce.PluginManager"),t=tinymce.util.To</span>ols.<span class="cstat-no" title="statement not covered" >resolve("tinymce.util.Tools"),n={hasDimensions:fu</span>ncti<span class="cstat-no" title="statement not covered" >on(e){return!1!==e.setting<span class="fstat-no" title="function not covered" >s.image_dimens</span>ions<span class="cstat-no" title="statement not covered" >},hasAdvTab:function(e){return!0===e.settin</span>gs.image_advtab},getPr<span class="fstat-no" title="function not covered" >ependUrl:f</span>unct<span class="cstat-no" title="statement not covered" >ion(e){return e.getParam("image_prepend</span>_url","")},getClassList:fu<span class="fstat-no" title="function not covered" >nction(e){retu</span>rn e<span class="cstat-no" title="statement not covered" >.getParam("image_class_list")},hasDescriptio</span>n:function(e){return!1!==<span class="fstat-no" title="function not covered" >e.settings.im</span>age_<span class="cstat-no" title="statement not covered" >description},hasImageTitle:function(e){</span>return!0===e.settings.image<span class="fstat-no" title="function not covered" >_title},hasImag</span>eCap<span class="cstat-no" title="statement not covered" >tion:function(e){return!0===e.settings.image</span>_caption},getImageList:fun<span class="fstat-no" title="function not covered" >ction(e){retur</span>n e.<span class="cstat-no" title="statement not covered" >getParam("image_list",!1)},hasUploadUr</span>l:function(e){return e.getPa<span class="fstat-no" title="function not covered" >ram("images_uplo</span>ad_u<span class="cstat-no" title="statement not covered" >rl",!1)},hasUploadHandler:function(e){re</span>turn e.getParam("images_u<span class="fstat-no" title="function not covered" >pload_handler</span>",!1<span class="cstat-no" title="statement not covered" >)},getUploadUrl:function(e){return e.</span>getParam("images_upload_u<span class="fstat-no" title="function not covered" >rl")},getUplo</span>adHa<span class="cstat-no" title="statement not covered" >ndler:function(e){return e.getParam("images_</span>upload_handler")},getUploadBa<span class="fstat-no" title="function not covered" >sePath:function(e</span>){re<span class="cstat-no" title="statement not covered" >turn e.getParam("images_upload_base_path")},getU</span>ploadCredentials:function<span class="fstat-no" title="function not covered" >(e){return e.</span>getP<span class="cstat-no" title="statement not covered" >aram("images_upload_credentials")}},a="u</span>ndefined"!=typeof window?wind<span class="fstat-no" title="function not covered" >ow:Function("retu</span>rn t<span class="cstat-no" title="statement not covered" >his;")(),i=function(e,t){for(var n=t!==undef</span>ined&amp;&amp;null!==t?t:a,i=0;i&lt;e.len<span class="fstat-no" title="function not covered" >gth&amp;&amp;n!==undefined</span>&amp;&amp;nu<span class="cstat-no" title="statement not covered" >ll!==n;++i)n=n[e[i]];return n},r=function(e,t)</span>{var n=e.split(".");return i(n,t)<span class="fstat-no" title="function not covered" >},o={getOrDie:functio</span>n(e,<span class="cstat-no" title="statement not covered" >t){var n=r(e,t);if(n===undefined||null===n)throw</span> e+</span>" no<span class="cstat-no" title="statement not covered" >t available on this browser";return n}};function l(){return new(o.g</span>etOr<span class="cstat-no" title="statement not covered" >Die("File<span class="fstat-no" title="function not covered" >Re</span>ader"))<span class="cstat-no" title="statement not covered" >}var s=tinymce.util.Tools.resolve("tinymce.util.Promise"),c=tinymce.util.Tools.resolve("tinymce.util.XHR"),u=fun<span class="cstat-no" title="statement not covered" >ction(e,t){re<span class="cstat-no" title="statement not covered" ></span>t</span>urn Math.</span>m</span>ax(p<span class="cstat-no" title="statement not covered" >arseInt(e<span class="fstat-no" title="function not covered" >,1</span>0),parseInt(t,1<span class="cstat-no" title="statement not covered" >0))},g={getIm<span class="cstat-no" title="statement not covered" ></span>ageSize:function</span>(</span>e,t)<span class="cstat-no" title="statement not covered" >{var n=document.creat<span class="fstat-no" title="function not covered" >eElement(</span>"img");function<span class="cstat-no" title="statement not covered" > a(e,a){<span class="cstat-no" title="statement not covered" ></span>n.parentNode&amp;&amp;n.parentNode.removeCh<span class="cstat-no" title="statement not covered" >ild(n),t({width:e,height:a})}n.onload=funct<span class="cstat-no" title="statement not covered" >i</span></span>on(){a(u(</span>n.w</span>idth,n.cl<span class="fstat-no" title="function not covered" >ie</span>ntW<span class="cstat-no" title="statement not covered" >idth),u(n.height,n.clientHeight))},n.oner</span>ror=func<span class="cstat-no" title="statement not covered" >tion(){a(0,0)};var i=n.style;i.visibility="hidden",</span>i.po<span class="cstat-no" title="statement not covered" >sition="fixed",i.bottom=i.left="0px",i.width=i.</span>heig<span class="cstat-no" title="statement not covered" >ht="auto"<span class="fstat-no" title="function not covered" >,d</span>ocument<span class="cstat-no" title="statement not covered" >.body.appendChild(n),n.src=e},buildListItems:functi</span>o</span>n(e,<span class="cstat-no" title="statement not covered" >n,a){return function i(e,<span class="fstat-no" title="function not covered" >a){return a=a</span>||[],t.each(e,f<span class="cstat-no" title="statement not covered" >unction(e){var t={text:e.text|</span>|e.title}<span class="fstat-no" title="function not covered" >;e</span>.menu?t<span class="cstat-no" title="statement not covered" >.menu=i(e.menu):(t.value=e.value,n(t)),a.push(t)}),a}(e,a||[])},removePix<span class="cstat-no" title="statement not covered" ></span>elSuffix:fu<span class="fstat-no" title="function not covered" >nc</span>tion(e){ret<span class="cstat-no" title="statement not covered" >urn e&amp;&amp;(e=e.replace(/px$/,"")),e},addPixelSuffix:function(e</span>){return e.len<span class="fstat-no" title="function not covered" >gt</span>h&gt;0&amp;&amp;/^[0-9<span class="cstat-no" title="statement not covered" >]+$/.test</span>(e</span>)&amp;&amp;(e+=<span class="cstat-no" title="statement not covered" >"px"),e}<span class="cstat-no" title="statement not covered" ></span>,mergeMargins:function(e){if(e.margin){var t=e.margin.split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]</span>=e["margin-right"]||t[0],e[<span class="fstat-no" title="function not covered" >"margin-bottom"</span>]=e["margi<span class="cstat-no" title="statement not covered" >n-bottom"]||t[0]<span class="fstat-no" title="function not covered" >,e</span>["margi<span class="cstat-no" title="statement not covered" >n-left"]=e["margin-left"]||t[0<span class="fstat-no" title="function not covered" >];</span>break;case 2:e["marg<span class="cstat-no" title="statement not covered" >in-top"]=e["margin-top"]||t[<span class="cstat-no" title="statement not covered" ></span>0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["m</span>argin-</span>bottom"]||t[0]</span>,e["margin-left"]=e["margin-le<span class="fstat-no" title="function not covered" >ft"]||t[1];break;c</span>ase <span class="cstat-no" title="statement not covered" >3:e["margin-top"]=e["margin-top"]||t[0],e["</span>margin-right"]=e["margin-ri<span class="fstat-no" title="function not covered" >ght"]||t[1],e["</span>marg<span class="cstat-no" title="statement not covered" >in-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["marg</span>in-left"]||t[1];break;cas<span class="fstat-no" title="function not covered" >e 4:e["margin</span>-top<span class="cstat-no" title="statement not covered" >"]=e["margin-top"]||t[0<span class="cstat-no" title="statement not covered" >],e["margin-right"]=<span class="cstat-no" title="statement not covered" ></span>e["margin-right"]||t[1],e[<span class="cstat-no" title="statement not covered" >"margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},createImageList:function(e,t){var a=n.getImageList(e);"string"==typeof a?c.<span class="cstat-no" title="statement not covered" >s</span>end({u</span>rl:a,s<span class="cstat-no" title="statement not covered" >uccess:function(e){t(JSON.parse(e))}}):"function"==typeof a?a(t):t(a)},waitLoadImage:function(e,t,a){function i(){a.onload=a.onerror=null,e.selection&amp;&amp;(e.selection.select(a),e.nodeCha<span class="cstat-no" title="statement not covered" >n</span>ged())</span>}a.onl<span class="cstat-no" title="statement not covered" >oad=function(){t.width||t.height||!n.hasDimensions(e)||e.dom.setAttribs(a,{width:a.clientWidth,height:a.clientHeight}),i()},a.onerror=i},blobToDataUri:function(e){return new s(functio<span class="cstat-no" title="statement not covered" >n</span>(t,n){</span>var a=<span class="cstat-no" title="statement not covered" >new l;a.onload=function(){t(a.result)},a.onerror=function(){n(l.error.message)},a.readAsDataURL(e)})}},d={makeTab:function(e,t){return{title:"Advanced",type:"form",pack:"start",items:[<span class="cstat-no" title="statement not covered" ></span>{</span>label:"Style",na<span class="cstat-no" title="statement not covered" ></span>m</span>e:"style"</span>,type:"textbox",onchange:(a=<span class="fstat-no" title="function not covered" >e,function(e){va</span>r t=a.dom,i=e.c<span class="cstat-no" title="statement not covered" >ontrol.rootControl<span class="cstat-no" title="statement not covered" ></span>;if(n.hasAdvTab(a)){var r=i.toJSON(),o=t.parseStyle(r.styl<span class="fstat-no" title="function not covered" >e);i.fin</span>d("#<span class="cstat-no" title="statement not covered" >vspace").value("")</span>,i.find("#hspace").value(""),((o=g.mergeMarg</span>ins(o))["margin-top"]&amp;&amp;o["<span class="fstat-no" title="function not covered" >margin-bottom"</span>]||o["margin-right"<span class="fstat-no" title="function not covered" >]&amp;</span>&amp;o[<span class="cstat-no" title="statement not covered" >"margin-left"])&amp;&amp;(o["margin-top"]===o["margin-bottom"]?i.find("#vspace").value(g.remov<span class="cstat-no" title="statement not covered" ></span>ePixelSuffi<span class="fstat-no" title="function not covered" >x(</span>o["margin-t<span class="cstat-no" title="statement not covered" >op"])):i.find("#vspace").value(""),o["margin-right"]===o["margin-left"]?i.find("#hspace").value(g.removePixelSuffix(o["mar</span>gin-right"])):i.f</span>ind("#hspace").value("")),<span class="fstat-no" title="function not covered" >o["border-widt</span>h"]&amp;<span class="cstat-no" title="statement not covered" >&amp;i.find("#bor<span class="fstat-no" title="function not covered" >de</span>r").value(g.removePixel<span class="cstat-no" title="statement not covered" >Suffix(o<span class="cstat-no" title="statement not covered" ></span>["border-wi<span class="fstat-no" title="function not covered" >dt</span>h"])),i.fin<span class="cstat-no" title="statement not covered" >d("#style").v</span>alue(t.seriali<span class="fstat-no" title="function not covered" >ze</span>Style(t.par<span class="cstat-no" title="statement not covered" >seStyle(t.serializeS</span>tyle(o))))}})},{type:"</span>for</span>m",</span>layo<span class="cstat-no" title="statement not covered" >ut:"grid",packV:"sta<span class="fstat-no" title="function not covered" >rt",colu</span>mns:2,p<span class="cstat-no" title="statement not covered" >adding:0,alignH:["left","right"],defaults:{type:"textbox",maxWidth:50,onchange:function(n){t(e,n.control.rootControl)}},items:[{label<span class="fstat-no" title="function not covered" >:"</span>Vertical space",name<span class="cstat-no" title="statement not covered" >:"vspa</span>ce"}<span class="cstat-no" title="statement not covered" >,{label:"Horizontal sp<span class="cstat-no" title="statement not covered" ></span>ace",name:"hspace"},{label:"B<span class="cstat-no" title="statement not covered" >order",name</span>:"bo<span class="cstat-no" title="statement not covered" >rder"}]}]};var a}},m=f<span class="cstat-no" title="statement not covered" ></span>unction(e,t){e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())},f=function(e,t){var n=e.find("#width")[0],a=e.find("#height")[0],i=e.find("#constrain")[0];n&amp;&amp;a&amp;&amp;i&amp;&amp;t(n,a,i.checked())},p=function(e,t,n){var a=e.state.get("oldVal"),i=t.state.get("oldVal"),r=e.value(),o=t.value();n&amp;&amp;a&amp;&amp;i&amp;&amp;r&amp;&amp;o&amp;&amp;(r!==a?(o=Math.round(r/a*o),isNaN(o)||t.value(o)):(r=Math.round(o/i*r),isNaN(r)||e.value(r))),m(e,t)},h=function(e){f(e,p)},b={createUi:function(){var e=function(e){h(e.control.rootControl)};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width</span>"</span>,type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Height<span class="fstat-no" title="function not covered" >"},{name:</span>"con<span class="cstat-no" title="statement not covered" >strain",type:"checkbox",check</span>ed:!0,text:"Constrain proportions"}]}},syncSize:function(e){f(e,m)},updateSize:h},v=function(e){e.meta=e.control.rootControl.toJSON()},y=function(e</span>,a){var i</span>=[{n<span class="cstat-no" title="statement not covered" >ame:"src"<span class="fstat-no" title="function not covered" >,t</span>ype:"fi<span class="cstat-no" title="statement not covered" >lepicker",filetype:"image",label:"Source",autofocus:!0,onchange:func</span>t</span>ion(<span class="cstat-no" title="statement not covered" >a){var i,<span class="fstat-no" title="function not covered" >r,</span>o,l,s,c,u,d,m;r<span class="cstat-no" title="statement not covered" >=e,c=(i=a).meta||{},</span>u=i.<span class="cstat-no" title="statement not covered" >control,d=u.rootContr</span>ol,(<span class="cstat-no" title="statement not covered" >m=d.find("#image-list")[<span class="cstat-no" title="statement not covered" ></span>0])&amp;&amp;m.value(r.convertURL(u.value(),"</span>s</span>rc")<span class="cstat-no" title="statement not covered" >),t.each(<span class="fstat-no" title="function not covered" >c,</span>function(e,t){d.fi<span class="cstat-no" title="statement not covered" >nd("#"+t).value(e)}),c</span>.wid<span class="cstat-no" title="statement not covered" >th||c.height||(o=r.con</span>vert<span class="cstat-no" title="statement not covered" >URL(u.valu</span>e(),<span class="cstat-no" title="statement not covered" >"src"),l=n<span class="cstat-no" title="statement not covered" ></span>.getPrependUrl(r),s=new RegExp("^(?:[a-z]+:)?//","i"),l&amp;&amp;!s.test(o)&amp;&amp;o.substring(0,l.length)!==l&amp;&amp;(o=l+o),u.value(o),g.getImageSize(r.documentBaseURI.toA</span>b</span>solu<span class="cstat-no" title="statement not covered" >te(u.valu<span class="fstat-no" title="function not covered" >e(</span>)),f<span class="cstat-no" title="statement not covered" >unction(e</span>)</span>{e.w<span class="cstat-no" title="statement not covered" >idth&amp;&amp;e.height&amp;&amp;n.has<span class="fstat-no" title="function not covered" >Dimension</span>s(r)&amp;&amp;(d.fi<span class="cstat-no" title="statement not covered" >nd("#widt<span class="fstat-no" title="function not covered" >h"</span>).val<span class="cstat-no" title="statement not covered" >ue(e.width),d.find("#height</span>"<span class="cstat-no" title="statement not covered" ></span>).value(e.height),b.updateSize(d))}))},onbeforecall:v},a];return n.hasDescription(e)&amp;&amp;i.push({name:"alt",type:"textbox",label:"Image description"}),n.hasImageTitle(e)&amp;&amp;i.push({name:"title",type:"textbox",label:"Image Title"}),n.hasDimensions(e)&amp;&amp;i.push(b.createUi()),n.getClassList(e)&amp;&amp;i.push({name:"class",type:"listbox",label:"Class",values:g.buildListItems(n.getClassList(e),function(t){t.value&amp;&amp;(t.text</span>Style=function(){retu<span class="fstat-no" title="function not covered" >rn e.form</span>atte<span class="cstat-no" title="statement not covered" >r.getCssT</span>ext({inline:"img",</span>clas<span class="cstat-no" title="statement not covered" >ses:[t.va<span class="fstat-no" title="function not covered" >lu</span>e]})<span class="cstat-no" title="statement not covered" >})})}),n.hasImageCaption(e)&amp;&amp;i.push({name</span>:</span>"cap<span class="cstat-no" title="statement not covered" >tion",typ<span class="fstat-no" title="function not covered" >e:</span>"checkbox",labe<span class="cstat-no" title="statement not covered" >l:"Caption"}),i},x={makeTab:function(e,t){return{title:"General",type:"form",items:y(e,t)}},getGeneralItem<span class="fstat-no" title="function not covered" >s:y},w=fu</span>nction(){return o.getOrDie("URL")}<span class="cstat-no" title="statement not covered" >,S=function(e){return w().createObjectURL(e)},U=function(e){w().revokeObjectURL(e)},T=tinymce.util.Tools.resolve("tinymce.ui.Factory"),C=function(){},<span class="fstat-no" title="function not covered" >I=</span>function(e,t){r<span class="cstat-no" title="statement not covered" >eturn e?e.replace(/\/$/,""</span>)+"/"+t.replace(/^\//,""):t};function P(e){var n=function(t,n,a,i){var r,l;(r=new function(){return new(o.getOrDie("XMLHttpRequest"))}).open("POST",e.url),r.withCredentials=e.credentials,r.upload.onprogress=function(e){i(e.loaded/e.total*100)},r.onerror=functio<span class="fstat-no" title="function not covered" >n(</span>){a("Image u<span class="cstat-no" title="statement not covered" >pload failed due to a XHR Transport error. Code: "+r.status)},r.onload=function(){var t;r.status&lt;200||r.status&gt;=300?a("HTTP Error: "</span>+r.s</span>tatus):(t=JSON.parse(r.r<span class="cstat-no" title="statement not covered" ></span>esponseText))&amp;&amp;"string"==typeof t.location?n(I(e.basePath,t.location)):a("Invalid JSON: "+r.responseText)},(l=new FormData).append("file",t.blob(),t.filename()),r.send(l)};return e=t.extend({credentials:!1,handler:n},e),{upload:function(t){return e.url||e.handler!==n?(a=t,i=e.handler,new s(function(e,t){try{i(a,e,t,C)}catch(n){t(n.message)}})):s.reject<span class="fstat-no" title="function not covered" >("</span>Upload url m<span class="cstat-no" title="statement not covered" >issing from the settings."<span class="fstat-no" title="function not covered" >);</span>var a,i}}}v<span class="cstat-no" title="statement not covered" >ar L=function(e){return function(t){var a=T.get("Throbber"),i=t.contro</span>l.r</span>ootControl,r=new a(i.getEl()),o=t.control.value(),l=S(o),s=P({url:n.getUploadUrl(e),basePath:n.get</span>U</span>ploa<span class="cstat-no" title="statement not covered" >dBasePath(e),credent<span class="fstat-no" title="function not covered" >ials:n.g</span>etUploa<span class="cstat-no" title="statement not covered" >dCredentials(e),handler:n.getUploadHandler(e)}),c=function(</span>){r.hide(),U(l)};return</span> r.s<span class="cstat-no" title="statement not covered" >how(),g.b<span class="fstat-no" title="function not covered" >lo</span>bTo<span class="cstat-no" title="statement not covered" >DataUri(o).then(function(t</span>)</span>{var<span class="cstat-no" title="statement not covered" > n=e.edit<span class="fstat-no" title="function not covered" >or</span>Uplo<span class="cstat-no" title="statement not covered" >ad.blobCache.create({blob:o,blo</span>b</span>Uri:<span class="cstat-no" title="statement not covered" >l,name:o.<span class="fstat-no" title="function not covered" >na</span>me?o<span class="cstat-no" title="statement not covered" >.name.replace(/\.[^\.]+$</span>/</span>,"")<span class="cstat-no" title="statement not covered" >:null,base64:t.split(",")[1]});return s.upload(n)</span>.the<span class="cstat-no" title="statement not covered" >n(functio<span class="fstat-no" title="function not covered" >n(</span>e){va</span>r t=<span class="cstat-no" title="statement not covered" >i.find("#<span class="fstat-no" title="function not covered" >sr</span>c");ret<span class="cstat-no" title="statement not covered" >urn t.value(e),i.find("tabpanel")[0].activateTab(0),t.fire("change</span>"</span>),c(),e})<span class="fstat-no" title="function not covered" >})</span>["catch"](fu<span class="cstat-no" title="statement not covered" >nction(t)<span class="fstat-no" title="function not covered" >{e</span>.windowManager.alert(t)<span class="cstat-no" title="statement not covered" >,c()})}},<span class="fstat-no" title="function not covered" >_=</span>".jpg,.jpeg<span class="cstat-no" title="statement not covered" >,.png,.gif",N={makeTab:function(e){return{tit</span>le:"Upload",type:"form",layout:"flex",direction:"column",align:"stretch",padding:"<span class="fstat-no" title="function not covered" >20</span> 20 20 20",i<span class="cstat-no" title="statement not covered" >tems:[{type:"container",layou</span>t:"flex",direc<span class="fstat-no" title="function not covered" >ti</span>on:"column"<span class="cstat-no" title="statement not covered" >,align:"center",spacing:10,items:[{text:"Browse for an image",type:"browse</span>button",accep<span class="fstat-no" title="function not covered" >t:</span>_,onchange:L(e)},<span class="cstat-no" title="statement not covered" >{text:"OR",type:"label"}]},{text:"Drop an image here",type:"dropzone",accept:_,height:100,onchange:L(e)}]}}};function A(e){var a=function(e,t){if(n.hasAdvTab(e)){var a=e.dom,i=t.toJSON(),r=a.parseStyle(i.s</span>tyle);r=g.mergeMargins(r),i.vspace&amp;&amp;(r["margin-top"]=r["margin-bottom"]=g.</span>a<span class="cstat-no" title="statement not covered" ></span>ddPixelSuffix(i.vspace)),i.hspace&amp;&amp;(r["margin-left"]=r["margin-right"]=g.add<span class="fstat-no" title="function not covered" >PixelSu</span>ffix<span class="cstat-no" title="statement not covered" >(i.hspace)),i.border&amp;&amp;(r["border-width"]=g.addPixelSuffix(i.bor<span class="fstat-no" title="function not covered" >de</span>r)),t.find("#st<span class="cstat-no" title="statement not covered" >yle")<span class="cstat-no" title="statement not covered" >.value(a.serial</span>izeStyle(a.p<span class="cstat-no" title="statement not covered" >arseStyle(a.se</span>r</span>ializeStyle(r))))}};function i(i){var r,o,l,s,c={},u=e.d</span>om;function m</span>(){var n<span class="cstat-no" title="statement not covered" >,i;b.upda<span class="fstat-no" title="function not covered" >te</span>Size<span class="cstat-no" title="statement not covered" >(r),a(e<span class="fstat-no" title="function not covered" >,r</span>),(c=t.extend(c,r.to<span class="cstat-no" title="statement not covered" >JSON())).alt||(c.a</span>lt="<span class="cstat-no" title="statement not covered" >"),c.title||(c.title="</span>"),"<span class="cstat-no" title="statement not covered" >"===c.width&amp;&amp;(c.w</span>idth<span class="cstat-no" title="statement not covered" >=null),""===c.heig</span>ht&amp;&amp;<span class="cstat-no" title="statement not covered" >(c.he</span>ight<span class="cstat-no" title="statement not covered" >=null),c.style||(c.style=null),c={src:c.src,alt:c.alt,title:c.title,width:c.width,height:c.height,style:c.style,caption:c.caption,"class</span>":c[<span class="cstat-no" title="statement not covered" >"class"]}<span class="fstat-no" title="function not covered" >,e</span>.un<span class="cstat-no" title="statement not covered" >doManager.transa</span>c<span class="cstat-no" title="statement not covered" ></span>t(function(){if(c.src){if(""===c.title&amp;&amp;(<span class="fstat-no" title="function not covered" >c.</span>title=null),o?u.setA<span class="cstat-no" title="statement not covered" >ttribs(o,c):(c.id="__mcenew",e.focus(),e.selection.setContent(u.createHTML("img",c)),o=u.get("__mcenew"),u.setAttrib(o,"id",null)),e.edit<span class="cstat-no" title="statement not covered" ></span>orUpload.uploadImagesAut<span class="fstat-no" title="function not covered" >o(</span>),!1===c.caption&amp;&amp;u.<span class="cstat-no" title="statement not covered" >is(o.parentNode<span class="cstat-no" title="statement not covered" ></span>,"figure.image")&amp;&amp;(n=o.parentNode,u.insertAfter(o,n),u.remove(n)),!0!==c.caption)g.</span>wai</span>tLoadImage(<span class="fstat-no" title="function not covered" >e,</span>c,o);else if<span class="cstat-no" title="statement not covered" >(!u.is(o.parentNode,"figure.ima</span>ge"</span>))</span>{</span>i=o,<span class="cstat-no" title="statement not covered" >o=o.cloneNode(!0),(n=u.</span>crea<span class="cstat-no" title="statement not covered" >te("figure",{"class"<span class="fstat-no" title="function not covered" >:"image"</span>})).<span class="cstat-no" title="statement not covered" >appendChild(o),n.appendChild(u.create("figcaption",{contentEditable:!0},"Caption")),n.contentEditable=!1;var t=u.getParent(i,function(t){return e.schema.getTextBlockElements()[t.nodeName]});t?u.split(t,i,n):u.replace(n,i),e.selection.select(n)}}else if(o){var a=u.is(o.parentNode,"figure.image")?o.parentNode:o;u.remove(a),e.focus(),e.nodeChanged(),u.isEmpty(e.getBody())&amp;&amp;(e.setContent(""),e.selection.setCursorLocation())}})}if(o=</span>e.s</span>election.<span class="fstat-no" title="function not covered" >ge</span>tNode(),(l=u<span class="cstat-no" title="statement not covered" >.getParen<span class="fstat-no" title="function not covered" >t(</span>o,"figu<span class="cstat-no" title="statement not covered" >re.image"))&amp;&amp;(o=u.select("img<span class="cstat-no" title="statement not covered" >",l)[0</span>]),o<span class="cstat-no" title="statement not covered" >&amp;&amp;("IMG"!==</span>o.no<span class="cstat-no" title="statement not covered" >deName||o.getAttribute<span class="cstat-no" title="statement not covered" ></span>("data-mce-object")||o.getAttribute("data-mce-placeholder"))&amp;&amp;(o=null),o&amp;&amp;(c={src:u.getAttrib(o,"src"),alt:u.getAttrib(o,"alt"),title:u.getAttrib(o,"title"),"class":u.getAttrib(o,"class"),width:u.getAttrib(o,"width"),height:u.getAttrib(o,"height"),caption:!!l}),i&amp;&amp;(s={type:"listbox",label:"Image list",name:"image-list",val</span>u</span>e</span>s:g.build<span class="fstat-no" title="function not covered" >Li</span>stItems(i,function(t<span class="cstat-no" title="statement not covered" >){t</span>.val<span class="cstat-no" title="statement not covered" >ue=e.c</span>onvertURL<span class="fstat-no" title="function not covered" >(t</span>.value||t.ur<span class="cstat-no" title="statement not covered" >l,"src")},[{text:"None",value:""}]),value:c.src&amp;&amp;e.convertURL(c.src,"src"),onselect:function(e){var t=r.find("#alt");(!t.value()||e.lastControl&amp;&amp;t.value()===e.lastControl.text())&amp;&amp;t.value(e.control.text()),r.find("#src").value(e.control.value()).fire("change")},onPostRender:function(){s=this}}),n.hasAdvTab(e)||n.hasUploadUrl(e)||n.hasUploadHandler(e)){var f=[x.makeTa<span class="fstat-no" title="function not covered" >b(</span>e,s)];n.has<span class="cstat-no" title="statement not covered" >AdvTab(e)&amp;&amp;(<span class="cstat-no" title="statement not covered" >o&amp;&amp;(o.style.marginLeft&amp;&amp;o.style.marginRight&amp;&amp;o.style.marginLeft===o.style.marginRight&amp;&amp;(c.hspace=g.removePixelSuffix(o.style.marginLeft)),o.style.marginTop&amp;&amp;o.style.marginBottom&amp;&amp;o.style.marginTop===o.style.marginBottom&amp;&amp;(c.vspace=g.removePixelSuffix(o.style.marginTop)),o.style.borderWidth&amp;&amp;(c.border=g.removePixelSuffix(o.style.borderWidth)),c.style=e.dom.ser<span class="cstat-no" title="statement not covered" >ializeStyle(e.dom.parseSty</span>le(e<span class="cstat-no" title="statement not covered" >.dom.getAttrib(o,"style")))),f.push(d.make<span class="cstat-no" title="statement not covered" >Tab(e,a))),(n.hasUploadUrl(e)||n.hasUploadHandler(e))&amp;&amp;f.push(N.makeTab(e)),r=e.windowManager.open({title:"Insert/edit image",data:c,bodyType:"tabpanel",body:f,onSubmit:m})}else r=e.windowMa</span>nager.o<span class="cstat-no" title="statement not covered" >pen({title:"Ins<span class="fstat-no" title="function not covered" >er</span>t/edit image<span class="cstat-no" title="statement not covered" >",data:c,body:x.getGeneralItems(e,s),onSubmit:m});b.</span>sy<span class="cstat-no" title="statement not covered" ></span>ncSize(r)}return{open:function(){g.createImageList(e,i)}}}var k</span>=</span></span>functi<span class="cstat-no" title="statement not covered" >on(e){e.addComma<span class="cstat-no" title="statement not covered" >nd("mceImage",A(e).open)},z=function(e){return functio<span class="cstat-no" title="statement not covered" ></span>n(n){for(var a,i,r=n.length,o=function(t){t.attr("contenteditable",e?"true":null)};r--;)a=n[r],(i=a.attr("class"))&amp;&amp;/\bi</span>m</span></span>age<span class="cstat-no" title="statement not covered" ></span>\b/.test(i)&amp;&amp;(a.attr("contenteditable",e?"false":null),t.each(a.getAll("figcaption"),o))}},R=function(e){e.on("preInit",function(){e.parser.addNodeFilter("figure",z(!0)),e.serializer.addNodeFilter("figure",z(!1))})},D=function(e){e.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:A(e).open,stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),e.addMenuItem("image",{icon:"image",text:"Image",onclick:A(e).open,context:"insert",prependToContext:!0})};e.add("image",function(e){R(e),D(e),k(e<span class="fstat-no" title="function not covered" >)}</span>)}();<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Thu Mar 15 2018 17:06:20 GMT+0100 (WAT)
</div>
</div>
<script src="../../../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../../../sorter.js"></script>
</body>
</html>
