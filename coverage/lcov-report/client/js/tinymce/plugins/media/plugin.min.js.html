<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for client/js/tinymce/plugins/media/plugin.min.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../../../index.html">All files</a> / <a href="index.html">client/js/tinymce/plugins/media</a> plugin.min.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/260</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/282</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/94</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/1</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1</td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">!function(){"<span class="cstat-no" title="statement not covered" >u<span class="fstat-no" title="function not covered" >se</span> strict";var e=tinymce.util.Tool<span class="cstat-no" title="statement not covered" >s.resolve("tinymce.PluginManager"),t=tinymce.util.To</span>ols.<span class="cstat-no" title="statement not covered" >resolve("tinymce.Env"),r=tinymce.util.Tool</span>s.re<span class="cstat-no" title="statement not covered" >solve("tinymce.util.Tools"),i=function(e){return </span>e.ge<span class="cstat-no" title="statement not covered" >tParam("m<span class="fstat-no" title="function not covered" >ed</span>ia_s<span class="cstat-no" title="statement not covered" >cripts")},a=function(e){return e.get</span>P</span>aram<span class="cstat-no" title="statement not covered" >("audio_t<span class="fstat-no" title="function not covered" >em</span>plat<span class="cstat-no" title="statement not covered" >e_callback")},o=function(e){return e.getParam(</span>"</span>vide<span class="cstat-no" title="statement not covered" >o_templat<span class="fstat-no" title="function not covered" >e_</span>call<span class="cstat-no" title="statement not covered" >back")},n=function(e){return e.getParam("media</span>_</span>live<span class="cstat-no" title="statement not covered" >_embeds",<span class="fstat-no" title="function not covered" >!0</span>)},c<span class="cstat-no" title="statement not covered" >=function(e){return e.getParam("media_filter</span>_</span>html<span class="cstat-no" title="statement not covered" >",!0)},s=<span class="fstat-no" title="function not covered" >fu</span>ncti<span class="cstat-no" title="statement not covered" >on(e){return e.getParam("media_url_resolver"</span>)</span>},u=<span class="cstat-no" title="statement not covered" >function(<span class="fstat-no" title="function not covered" >e)</span>{ret<span class="cstat-no" title="statement not covered" >urn e.getParam("media_alt_source",!0)},l=</span>f</span>unct<span class="cstat-no" title="statement not covered" >ion(e){re<span class="fstat-no" title="function not covered" >tu</span>rn e<span class="cstat-no" title="statement not covered" >.getParam("media_poster",!0)},m=function(e)</span>{</span>retu<span class="cstat-no" title="statement not covered" >rn e.getP<span class="fstat-no" title="function not covered" >ar</span>am("<span class="cstat-no" title="statement not covered" >media_dimensions",!0)},d=tinymce.util.T</span>o</span>ols.<span class="cstat-no" title="statement not covered" >resolve("<span class="fstat-no" title="function not covered" >ti</span>nymc<span class="cstat-no" title="statement not covered" >e.html.SaxParser"),h=tinymce.util.Tools.res</span>o</span>lve(<span class="cstat-no" title="statement not covered" >"tinymce.dom.DOMUtils"),p=function(e,t){if(e)for(var </span>r=0;<span class="cstat-no" title="statement not covered" >r&lt;e.length;r++)if(-1!==t.indexOf(e[r].filter))retur</span>n e[<span class="cstat-no" title="statement not covered" >r]},f=fun<span class="fstat-no" title="function not covered" >ct</span>ion(e){<span class="cstat-no" title="statement not covered" >return <span class="cstat-no" title="statement not covered" >function(t){return t?t.style[e].repl<span class="cstat-no" title="statement not covered" >ace(/px$/,""):""}},g=function(e){re<span class="cstat-no" title="statement not covered" >turn function</span></span>(</span></span>t</span>,r){<span class="cstat-no" title="statement not covered" >var i;t&amp;&amp;<span class="fstat-no" title="function not covered" >(t</span>.sty<span class="cstat-no" title="statement not covered" >le[e]=/<span class="fstat-no" title="function not covered" >^[</span>0-9.]+$/.tes<span class="cstat-no" title="statement not covered" >t(i=r)?i+"px":i)}},v={getMaxWidth:f("maxWidth")</span>,g</span>e</span>tMax<span class="cstat-no" title="statement not covered" >Height:f(<span class="fstat-no" title="function not covered" >"m</span>axHe<span class="cstat-no" title="statement not covered" >ight"),<span class="fstat-no" title="function not covered" >se</span>tMaxWidth:g("maxWidth<span class="cstat-no" title="statement not covered" >"),setMaxHeight:g("maxHeight")},w=h.DOM,b=function(e){return</span> w</span>.</span>getA<span class="cstat-no" title="statement not covered" >ttrib(e,"data-ephox-embed-iri")},y=function(e,t){return s=t,u=w.createFragment(s),""!==b(u.firstChild)?(n=t,c=w.createF</span>ragm<span class="cstat-no" title="statement not covered" >ent(n)</span>.fir<span class="cstat-no" title="statement not covered" >stChild,{<span class="fstat-no" title="function not covered" >ty</span>pe:"<span class="cstat-no" title="statement not covered" >ephox-embed-iri",source1:b(c),source2:"",poster</span>:</span>"",w<span class="cstat-no" title="statement not covered" >idth:v.ge<span class="fstat-no" title="function not covered" >tM</span>axWidth<span class="cstat-no" title="statement not covered" >(c),height:v.getMaxHeight(c)}):(i=e,a=t,o={},d({validate:!1,allow_conditional_comments:!0,special:"script,noscript",start:function(e,t){if(o.source1||"param"!==e||(o.source1=t.map.movie),"iframe"!==e&amp;&amp;"object"!==e&amp;&amp;"embed"!==e&amp;&amp;"video"!==e&amp;&amp;"audio"!==e||(o.type||(o.type=e),o=r.extend(t.map,o)),"script"===e){var a=p(i,t.map.src);if(!a)return;o={ty<span class="fstat-no" title="function not covered" >pe:"sc</span>ript",s<span class="cstat-no" title="statement not covered" >ource1:t.map.src,width:a.width,height:a.height}}"source"===e&amp;&amp;(o.source1?o.source2||(o.source2=t.map.src):o.source1=t.map.src),"img"!==e||o.poster||(o.poster=t.map.src)}}).parse(a),o.source1=o.source1||o.src||o.data,o.sourc<span class="cstat-no" title="statement not covered" >e2=o.source2||""<span class="cstat-no" title="statement not covered" ></span>,o.poste<span class="cstat-no" title="statement not covered" >r=o.pos<span class="cstat-no" title="statement not covered" >t</span></span>er||"",o);var i,a,o,n,c,s,u},x=tinymce.util.Tools.resolve("tinymce.util.Promi<span class="cstat-no" title="statement not covered" ></span>s</span>e"),j=function(e){var t={mp3:"audio/mpeg",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}</span>[e.toLowerCase().split(".").pop()];return t||""},M=tinymce.util.Tools.resolve("tinymce.html.Writer"),_=tinymce.util.</span>Tools.resolve("tinymce.ht</span>ml.S<span class="cstat-no" title="statement not covered" >chema"),C=h.DOM,S=function(e,t){var r,i,a,o;for(r i</span>n t)<span class="cstat-no" title="statement not covered" >if(a=""+t<span class="fstat-no" title="function not covered" >[r</span>],e.map[r])f<span class="cstat-no" title="statement not covered" >or(i=e.length;i--;)(o=e[i]).name===r&amp;&amp;(a?(e.map[r]=a,o.value=a):(delete e.map[r],e.splice(i,1)));else a&amp;&amp;(e.push({name:r,value:a}),e.map[r]=a)},k=function(e,t){var r,i,<span class="cstat-no" title="statement not covered" ></span>a=C.createFragme</span>n</span>t(e)<span class="cstat-no" title="statement not covered" >.firstChild;return v.setMaxWidth(a,t.width),v.setM</span>axHe<span class="cstat-no" title="statement not covered" >ight(a,t.height),r=a.outerHTML,i=M(),d(i).parse(r)</span>,i.g<span class="cstat-no" title="statement not covered" >etCont</span>ent(<span class="cstat-no" title="statement not covered" >)},A=func<span class="fstat-no" title="function not covered" >ti</span>on(e,t,r){return u=e,l<span class="cstat-no" title="statement not covered" >=C.createFragm<span class="cstat-no" title="statement not covered" >ent(u),""!==C.getAttrib(l.fir<span class="cstat-no" title="statement not covered" >stChild,"data-ephox-embed-<span class="cstat-no" title="statement not covered" >iri")?k(e,t):(i=e,a=t,o=r,c=M(),s=0,d({validate:!1,allow_conditional_comments:!0,special:"script</span>,</span>noscr<span class="cstat-no" title="statement not covered" >ipt",comment:function(e){c.comment(e)},cdata:functio</span></span>n</span>(</span>e){c<span class="cstat-no" title="statement not covered" >.cdata(e)<span class="fstat-no" title="function not covered" >},</span>text:function(e,t){<span class="cstat-no" title="statement not covered" >c.text(e,t)},start:function(e,t<span class="cstat-no" title="statement not covered" ></span>,r){switch(e){case"video":case"object":case"embed":case"img":case"iframe":a.height!==undefined&amp;&amp;a.width!==undefined&amp;&amp;S(t</span>,</span>{wid<span class="cstat-no" title="statement not covered" >th:a.widt<span class="fstat-no" title="function not covered" >h,</span>height:a.h<span class="cstat-no" title="statement not covered" >eight})}if(o)switch(e){case"video":S(t,{poster:a.poster,src:""}),a.source2&amp;&amp;S(t,{src:""});break;case"iframe":S(t,{src:a.source1});break;case"source":if(++s&lt;=2&amp;&amp;(S(t,{src:a["source"+s],type:a["source"+s+"mime"]}),!a["source"+s]))return;break;c<span class="fstat-no" title="function not covered" >ase"img"</span>:if(<span class="cstat-no" title="statement not covered" >!a.poster)retu</span>rn;n=!0}c.start(e,<span class="fstat-no" title="function not covered" >t,r)},</span>end:<span class="cstat-no" title="statement not covered" >function(e){</span>if("video"===e&amp;&amp;o<span class="fstat-no" title="function not covered" >)for(</span>var t=1<span class="cstat-no" title="statement not covered" >;t&lt;=2;t++)if(a</span>["source"+t]){var <span class="fstat-no" title="function not covered" >r=[];r</span>.map={},s&lt;<span class="cstat-no" title="statement not covered" >t&amp;&amp;(S(r,{src:a["source"+t],type:a["source"+t+"mime"]}),c.start("source",r,!0)<span class="cstat-no" title="statement not covered" >)}if(a.poster&amp;&amp;"object"===e&amp;&amp;o&amp;&amp;!n){var i=[];i.map={},S(i,{src:a.poster,width:a.width,height:a.<span class="cstat-no" title="statement not covered" ></span>h</span>eight}<span class="cstat-no" title="statement not covered" >),c.start("img",i,!0)}c.e<span class="cstat-no" title="statement not covered" >nd(e)}},_({})).parse(i),c.getContent());var i,a,o,n,c,s,u,l},F=[{reg<span class="cstat-no" title="statement not covered" >e</span>x:/you</span>tu\.be\/([\w\<span class="cstat-no" title="statement not covered" >-.]+)/,type:"iframe",w:56<span class="cstat-no" title="statement not covered" >0</span>,h:314</span>,url:"//www.y<span class="cstat-no" title="statement not covered" >outube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&amp;]+)/,type:"iframe",w:560,h:31<span class="cstat-no" title="statement not covered" >4,url:"<span class="cstat-no" title="statement not covered" >/</span></span>/www.y</span>outube.com<span class="cstat-no" title="statement not covered" >/embed/$2",allo<span class="cstat-no" title="statement not covered" >wFullsc<span class="cstat-no" title="statement not covered" >r</span></span>een:!0}<span class="cstat-no" title="statement not covered" ></span>,</span></span>{regex:/youtube.c</span>om\/embed\/([a-z<span class="fstat-no" title="function not covered" >0-9\</span>-_]+<span class="cstat-no" title="statement not covered" >(?:\?.+)?)/i,type:"ifram<span class="cstat-no" title="statement not covered" >e",w:560,h:314,url:"//www.yout<span class="cstat-no" title="statement not covered" >ube.com/embed/$1",allowFullscr<span class="cstat-no" title="statement not covered" >een<span class="cstat-no" title="statement not covered" ></span>:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&amp;byline=0&amp;po</span>r<span class="cstat-no" title="statement not covered" ></span>t</span></span>rait=0&amp;color=8dc7dc",allowfullscreen:!0},{regex:/vi<span class="cstat-no" title="statement not covered" >meo<span class="cstat-no" title="statement not covered" ></span>\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$2?title=0&amp;amp;<span class="cstat-no" title="statement not covered" ></span>b</span>yline=0",</span>allowfullscreen:!0},{regex:/maps\.goog</span>le\.([a-z]{2,3})\/maps\/(.+)</span>msid<span class="cstat-no" title="statement not covered" >=(.+)/,type:"iframe",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&amp;output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],N=function(e,t){var n=r.extend({},t);if(!n.source1&amp;&amp;(r.extend(n,y(i(e),n.embed)),!n.source1))return"";if(n.source2||(n.source2=""),n.poster||(n.poster=""),n.source1=e.convertURL(n.source1,"source"),n.source2=e.convertURL(n.source2,"source"),n.source1mime=j(n.source1),n.source2mime=j(n.source2),n.poster=e.convertURL(n.poster,"poster"),r.each(F,function(e){var t,r,i=e.regex.exec(n.source1);if(i){for(r=e.url,t=0;i[t];t++)r=r.replace("$"+t,function(){return i[t]});n.source1=r,n.type=e.type,n.allowFullscreen=e.allowFullscreen,n.width=n.width||e.w,n.height=n.height||e.h}}),n.embed)return A(n.embed,n,!0);var c=p(i(e),n.source1);c&amp;&amp;(n.type="script",n.width=c.width,n.height=c.height);var s,u,l,m,d,h,f,g,v=a(e),w=o(e);return n.width=n.width||300,n.height=n.height||150,r.each(n,function(t,r){n[r]=e.dom.enco</span>de(t<span class="cstat-no" title="statement not covered" >)}),"ifra<span class="fstat-no" title="function not covered" >me</span>"===n.type?(g=(<span class="cstat-no" title="statement not covered" >f=n).allowFullsc<span class="cstat-no" title="statement not covered" ></span>reen?' allowFullscreen="1"':"",'&lt;iframe src="'+f.source1+'" wid<span class="cstat-no" title="statement not covered" >th="'+f.wi<span class="cstat-no" title="statement not covered" >d</span></span>th+'" height="'+f.height+'"'+g+"&gt;&lt;/iframe&gt;"):"application/x-shockwave-flash"===n.source1mime?(h='&lt;object data="'+(d=n).source1+'" width="'+d.width+'" height="'+d.height+'" type="application/x-shockwave-flash"&gt;',d.poster&amp;&amp;(h+='&lt;img src="'+d.poster+'" width="'+d.width+'" he<span class="fstat-no" title="function not covered" >ig</span>ht="'+d.height+'" /&gt;'),h<span class="cstat-no" title="statement not covered" >+="&lt;/object&gt;"):-1!==n.so<span class="cstat-no" title="statement not covered" ></span>urce1mim<span class="cstat-no" title="statement not covered" >e.indexOf("audio")?(l=n,(m=v)?m(l):<span class="cstat-no" title="statement not covered" >'&lt;audio controls="contr<span class="fstat-no" title="function not covered" >ol</span>s" src="'+l<span class="cstat-no" title="statement not covered" >.source1+'"&gt;'</span>+(l<span class="cstat-no" title="statement not covered" ></span>.</span>source2?'\n&lt;source src="'+l.source2+'"'+(l.source2mime?' type="'+l.source2mime+'"':"")+" /&gt;\n":"")+"&lt;/audio&gt;"):"script"===n.</span>t</span>ype?'&lt;script<span class="cstat-no" title="statement not covered" > src="'+n.source1+'"&gt;&lt;\/sc</span></span>ript&gt;':<span class="cstat-no" title="statement not covered" >(s=n,(u=w)?u(s):'&lt;v<span class="cstat-no" title="statement not covered" ></span>ideo width="'+s.width+'" height="'+s.height+'"'+(s.poster?' poster</span>="'+s.poster+'"':"")+' <span class="cstat-no" title="statement not covered" >contr</span>ols=<span class="cstat-no" title="statement not covered" >"cont<span class="cstat-no" title="statement not covered" ></span>rols"&gt;\n&lt;source src="'+s.source1+'"'+(s.source1mime?' type="'+s.source1<span class="fstat-no" title="function not covered" >mi</span>me+'"':"")+" /&gt;<span class="cstat-no" title="statement not covered" >\n"+(s.source2?'&lt;source </span>src="'+s.source2+'"'+(s.source2mime?' type="'+s.source2mime+'"':"")+" /&gt;\n":"")+"&lt;/video&gt;")},O={},P=function(e){return function(t){return N(e,t)}},T=function(e,t){var r,i,a,o,n,c=s(e);return c?(a=t,o=P(e),n=c,new x(function(e,t){var r=function(t){return t.html&amp;&amp;(O[a.source1]=t),e({url:a.source1,html:t.html?t.html:o(a)})};O[a.source1]?r(O[a.source1]):n({url:a.source1},r,t)})):(r=t,i=P(e),new x(function(e){e({html:i(r),url:r.source1})}))},z=function(e){return O.hasOwnProperty(e)},$=function(e,t){e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())},L=function(e,t){var r=e.find("#width")[0],i=e.find("#height")[0],a=e.find("#constrain")[0];r&amp;&amp;i&amp;&amp;a&amp;&amp;t(r,i,a.checked())},H=function(e,t,r){var i=e.state.get("oldVal"),a=t.state.get("oldVal"),o=e.value(),n=t.value();r&amp;&amp;i&amp;&amp;a&amp;&amp;o&amp;&amp;n&amp;&amp;(o!==i?(n=Math.round(o/i*n),isNaN(n)||t.value(n)):(o=Math.round(n/a*o),isNaN(o)||e.value(o))),$(e,t)},W=function(e){L(e,H)},J=function(e){var t=function(){e(function(e){W(e)})};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:t,aria</span>L</span>abel<span class="cstat-no" title="statement not covered" >:"H</span>eigh<span class="cstat-no" title="statement not covered" >t"},{name<span class="fstat-no" title="function not covered" >:"</span>cons<span class="cstat-no" title="statement not covered" >train",<span class="fstat-no" title="function not covered" >ty</span>pe:"checkbox<span class="cstat-no" title="statement not covered" >",checked:!0,tex</span>t:</span>"</span>Cons<span class="cstat-no" title="statement not covered" >train pro<span class="fstat-no" title="function not covered" >po</span>rtions"}]}},R=function(e)<span class="cstat-no" title="statement not covered" >{L(e,<span class="cstat-no" title="statement not covered" ></span>$)},D=W,E=t.ie&amp;&amp;t.ie&lt;=8?"onChange":"onInpu<span class="fstat-no" title="function not covered" >t"</span>,I=function(e){return f<span class="cstat-no" title="statement not covered" >unction(t<span class="fstat-no" title="function not covered" >){</span>var <span class="cstat-no" title="statement not covered" >r=t&amp;&amp;t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";</span>e<span class="cstat-no" title="statement not covered" ></span>.notificationManager.open({type:"error",text:r})}},U=function(</span>e,t){return function(a){var o<span class="fstat-no" title="function not covered" >=a</span>.html,n=e.fi<span class="cstat-no" title="statement not covered" >nd("#embed")[0],c=r.extend(y(i(t),o</span>),{s</span>o</span>urce<span class="cstat-no" title="statement not covered" >1:a.url})<span class="fstat-no" title="function not covered" >;e</span>.fro<span class="cstat-no" title="statement not covered" >mJSON(c),n&amp;&amp;(n.value(o),D(e)</span>)</span>}},V<span class="cstat-no" title="statement not covered" >=function<span class="fstat-no" title="function not covered" >(e</span>,t){var<span class="cstat-no" title="statement not covered" > r=e.dom.select("img[data-mce-object]");e.insertContent(t),function(</span>e</span>,t){<span class="cstat-no" title="statement not covered" >var r,i,a<span class="fstat-no" title="function not covered" >=e</span>.dom.select("im<span class="cstat-no" title="statement not covered" >g[data-mce-object]")</span>;for<span class="cstat-no" title="statement not covered" >(r=0;r&lt;t.length;r++)f</span>or(i<span class="cstat-no" title="statement not covered" >=a.length-1;i&gt;=0;i--)t[r<span class="cstat-no" title="statement not covered" ></span>]===a[i]&amp;&amp;a.splice(i,1);e.selection.s</span>e</span>lect<span class="cstat-no" title="statement not covered" >(a[0])}(e<span class="fstat-no" title="function not covered" >,r</span>),e.nodeChanged()}<span class="cstat-no" title="statement not covered" >,B=function(e){var t,a</span>,o,n<span class="cstat-no" title="statement not covered" >,c,s=[{name:"source1",</span>type<span class="cstat-no" title="statement not covered" >:"filepick</span>er",<span class="cstat-no" title="statement not covered" >filetype:"<span class="cstat-no" title="statement not covered" ></span>media",size:40,autofocus:!0,label:"Source",onpaste:function(){setTimeout(function(){T(e,t.toJSON()).then(U(t,e))["catch"](I(e))},1)},onchange:function(i)</span>{</span>var <span class="cstat-no" title="statement not covered" >a,o;T(e,t<span class="fstat-no" title="function not covered" >.t</span>oJSO<span class="cstat-no" title="statement not covered" >N()).then</span>(</span>U(t,<span class="cstat-no" title="statement not covered" >e))["catc<span class="fstat-no" title="function not covered" >h"</span>](I(e)),a=t,<span class="cstat-no" title="statement not covered" >o=i.meta,<span class="fstat-no" title="function not covered" >r.</span>eac<span class="cstat-no" title="statement not covered" >h(<span class="fstat-no" title="function not covered" >o,</span>function(e,t<span class="cstat-no" title="statement not covered" >){a.fi</span>nd(</span>"<span class="cstat-no" title="statement not covered" ></span>#"+t).value(e)})},onbeforecall:function(e){e.meta=t.toJSON()}}],d=[];if(u(e)&amp;&amp;d.push({name:"source2",type:"filepicker",filetype:"media",size:40,label:"Alternative source"}),l(e)&amp;&amp;d.push({name:"poster",type:"filepicker",filetype:"image",size:40,label:"Poster"}),m(e)){var h=J(function(e){e(t),a=t.toJSON(),t.find("#embed").value(A(a.embed,a))});s.push(h)}n=(o=e).selection.getNode(),c=n.getAttribute("data-e</span>p</span>hox-<span class="cstat-no" title="statement not covered" >embed-iri<span class="fstat-no" title="function not covered" >")</span>,a=c<span class="cstat-no" title="statement not covered" >?{source1</span>:</span>c,"d<span class="cstat-no" title="statement not covered" >at</span>a-ep<span class="cstat-no" title="statement not covered" >hox-embed-iri":c,width:v.getMaxWidth(n),hei</span>ght:<span class="cstat-no" title="statement not covered" >v.getMaxH<span class="fstat-no" title="function not covered" >ei</span>ght(<span class="cstat-no" title="statement not covered" >n)}:n.g<span class="fstat-no" title="function not covered" >et</span>Attribute("data-mce-<span class="cstat-no" title="statement not covered" >object")?y(i(o),o.serializer.serialize(n,{selection:!0})):{};var p={id:"mcemediasource",type:"te<span class="cstat-no" title="statement not covered" ></span>xtbox",flex:1,name:"embed",value:function(e){var t=e.sel</span>ec</span>t</span>ion.<span class="cstat-no" title="statement not covered" >getNode()<span class="fstat-no" title="function not covered" >;i</span>f(t.get<span class="cstat-no" title="statement not covered" >Attribu<span class="fstat-no" title="function not covered" >te</span>("data-mce-object")|<span class="cstat-no" title="statement not covered" >|t.getA</span>ttri<span class="cstat-no" title="statement not covered" >bute("data-ephox-emb</span>ed-i<span class="cstat-no" title="statement not covered" >ri"))return e.selection.getContent()}(e),<span class="cstat-no" title="statement not covered" ></span>multiline:!0,rows:5,label:"Source"};p[E]</span>=f</span>u</span>ncti<span class="cstat-no" title="statement not covered" >on(){a=r.<span class="fstat-no" title="function not covered" >ex</span>tend({},y(i(e),<span class="cstat-no" title="statement not covered" >this.value())),this.parent().parent()<span class="cstat-no" title="statement not covered" ></span>.fromJSON(a)},t=e.wi<span class="fstat-no" title="function not covered" >nd</span>owManager.open({title:"Inse<span class="cstat-no" title="statement not covered" >rt/edit media",data:a,bodyType:"tabpa<span class="cstat-no" title="statement not covered" ></span>nel",body:[{title:"General",type<span class="cstat-no" title="statement not covered" >:"form",items:s},{title:"Embed",type:<span class="cstat-no" title="statement not covered" >"container",layout:"flex",directi</span>o<span class="cstat-no" title="statement not covered" ></span>n</span>:"column",align:"stretch"</span>,padding:10,spacing:10,it</span>e</span>ms:[<span class="cstat-no" title="statement not covered" >{type:"la<span class="fstat-no" title="function not covered" >be</span>l",text:"Paste your em<span class="cstat-no" title="statement not covered" >bed code below:",forId:"mcemediasource"},p]},{title:"Advanced",type:"form",items:d}],onSubmit:function(){var r,i;D(t),r<span class="fstat-no" title="function not covered" >=e,(i=t.</span>toJ<span class="cstat-no" title="statement not covered" >SON()).embe<span class="fstat-no" title="function not covered" >d=</span>A(i.embed,i<span class="cstat-no" title="statement not covered" >),i.embed&amp;&amp;z(i.source1)?V(r,i.embed):T(r,i).the</span>n(func</span>tion(e){V(r,e.html)})<span class="fstat-no" title="function not covered" >["catch"]</span>(I(r))}}),R(t<span class="cstat-no" title="statement not covered" >)},G=function(e){return{showDialog:function(){B(e)}}},q=function(e){e.addCom<span class="fstat-no" title="function not covered" >ma</span>nd("mceMedia",f<span class="cstat-no" title="statement not covered" >unction(){B(e)})},K=tinymc</span>e.u</span>til.Tools.resolve("tinymc<span class="fstat-no" title="function not covered" >e.html.Node")</span>,Q=f<span class="cstat-no" title="statement not covered" >unction(e,t){if(!1===</span>c(e)</span>)ret<span class="cstat-no" title="statement not covered" >urn<span class="cstat-no" title="statement not covered" ></span> t;var r,i=M();return d({validate:!1,allow_conditional_comments:!1,special:"script,noscript",comment:function(e){i.comment(e)},cdata:function(e){i.cdata(e)},text:function(e,t){i.text(e,t)},start:function(t,a,o){if(r=!0,"script"!==t&amp;&amp;"no<span class="cstat-no" title="statement not covered" >sc<span class="fstat-no" title="function not covered" >ri</span>pt"!==t){for<span class="cstat-no" title="statement not covered" >(var n=0;n&lt;a.length;n++){if(0===a[n].name.indexOf("on"))retur</span>n;<span class="cstat-no" title="statement not covered" ></span>"style"===a<span class="cstat-no" title="statement not covered" ></span>[</span>n].name&amp;&amp;(a[n].value=e.dom.serializeStyle(e.dom.parseStyle(a[n].value),t))}i.start(t,a,o),r=!1}},end:function(e){r||i.end(e)}},_({})).parse(t),i.getContent()},X=function(e,r){var i,a=r.name;return(i=new K("img",1)).shortEnded=!0,Z(e,r,i),i.attr({width:r.attr("width")||"300",h</span>eight:r<span class="cstat-no" title="statement not covered" >.attr("height")||("audio"===a?"30":"150"),style:r.attr("style"),src:t.tr<span class="fstat-no" title="function not covered" >an</span>sparentSrc,"data-mce<span class="cstat-no" title="statement not covered" >-object":a,"class":"mc<span class="cstat-no" title="statement not covered" ></span>e-object mce-object-"+a}),i},Y=function(e,t){var r,i,a,o=t.name;return(r=new K("s<span class="cstat-no" title="statement not covered" >pan",1)).attr({contentEditable:"f</span></span>alse",style:t.attr("style"),"data-mce-object":o<span class="cstat-no" title="statement not covered" ></span>,"class<span class="fstat-no" title="function not covered" >":</span>"mce-previe<span class="cstat-no" title="statement not covered" >w-object mce-object-"+o}),Z(e,t,r),(i=new K(o,1)).attr({src:t.attr("src"),all</span>owfullscreen:t.attr("allowfullscreen"),width:t.attr("width")||"300",height:t.attr("height")||("audio"===o?"30":"150"),frameborder:"0"}),(a=new K("span",1)).attr("class","mce-shim"),r.append(i),r.append(a),r},Z=function(e,t,r){var i,a,o,n,c;for(n=(o=t.attributes).length;n--;)i=o[n].name,a=o[n].value,"width"!==i&amp;&amp;"height"!==i&amp;&amp;"style"!==i&amp;&amp;("data"!==i&amp;&amp;"src"!==i||(a=e.convertURL(a,i)),r.attr("data-mce-p-"+i,a));(c=t.firs<span class="fstat-no" title="function not covered" >tChild&amp;&amp;t</span>.firstChild.<span class="cstat-no" title="statement not covered" >value)&amp;&amp;(r.attr("data-mce-html",escape(Q(e,c))),r.firstChild=null)},ee=function(e){for(;e=e.parent;)if(e.att<span class="fstat-no" title="function not covered" >r(</span>"data-ephox-<span class="cstat-no" title="statement not covered" >embed-iri"))re</span>turn!0;return!1},t</span>e=function(</span>e</span>){re<span class="cstat-no" title="statement not covered" >turn func<span class="fstat-no" title="function not covered" >ti</span>on(r<span class="cstat-no" title="statement not covered" >){for(var a,o,c=r.length;c--;)<span class="fstat-no" title="function not covered" >(a=r[c]).pa</span>ren<span class="cstat-no" title="statement not covered" >t&amp;&amp;(a.</span>pare</span>n</span>t.at<span class="cstat-no" title="statement not covered" >tr("data-<span class="fstat-no" title="function not covered" >mc</span>e-ob<span class="cstat-no" title="statement not covered" >ject")||("script"!==a.nam<span class="fstat-no" title="function not covered" >e|</span>|(o=p(i(e),<span class="cstat-no" title="statement not covered" >a.attr</span>("s</span>r</span>c"))<span class="cstat-no" title="statement not covered" >))&amp;&amp;(o&amp;&amp;(o.width&amp;&amp;a.attr("width",o.width.toStrin</span>g())<span class="cstat-no" title="statement not covered" >,o.height<span class="fstat-no" title="function not covered" >&amp;&amp;</span>a.attr(<span class="cstat-no" title="statement not covered" >"height",o.height<span class="cstat-no" title="statement not covered" >.toString(</span></span>))),"ifra<span class="cstat-no" title="statement not covered" >me"=<span class="cstat-no" title="statement not covered" ></span>==a.name&amp;&amp;n(e)&amp;&amp;t.ceFalse?ee(a)||a.replace(Y(e,a)):ee(a)||a.replace(X(e,a))))}},re=function(e){e.on("pr<span class="fstat-no" title="function not covered" >eInit",f</span>unct<span class="cstat-no" title="statement not covered" >ion(){var t=e.</span>schema.getSpecialE<span class="fstat-no" title="function not covered" >lement</span>s();<span class="cstat-no" title="statement not covered" >r.each("vide</span>o audio iframe ob<span class="fstat-no" title="function not covered" >ject"</span>.split(<span class="cstat-no" title="statement not covered" >" "),function(</span>e){t[e]=new RegExp<span class="fstat-no" title="function not covered" >("&lt;/"+</span>e+"[^&gt;]*&gt;"<span class="cstat-no" title="statement not covered" >,"gi")});var i=e.schema.getBoolAttrs();r.each("we<span class="cstat-no" title="statement not covered" >bkitallowfullscreen mozallowfullscre<span class="cstat-no" title="statement not covered" >en allowfullscreen".split(" "),func<span class="cstat-no" title="statement not covered" >tion(e)<span class="cstat-no" title="statement not covered" >{</span></span>i[e]={}}),e.parser.addNodeFilter("iframe,video,audio,object,embed,script",te(e)),e.serializer.<span class="cstat-no" title="statement not covered" ></span>a</span>ddAttributeFilter("data-m</span>c</span>e-object",functi<span class="fstat-no" title="function not covered" >on(t</span>,r){<span class="cstat-no" title="statement not covered" >for(var i,a,o,n</span>,c,s,u,l,m=t.length;m--;)if((i=t[m]).</span>p</span>aren<span class="cstat-no" title="statement not covered" >t){for(u=<span class="fstat-no" title="function not covered" >i.</span>attr(r),a=new K(u<span class="cstat-no" title="statement not covered" >,1),"au<span class="cstat-no" title="statement not covered" ></span>dio"!==u&amp;&amp;"script"!==u&amp;&amp;((l=i.attr("class"))&amp;&amp;-1!==l.indexOf("mce-preview-object")?a.attr({width:i.firstChild.attr("width"),height:i.firstChild.attr("height")}):a.attr({width:i.attr("width"),height:i.attr("height")})),a.attr({style:i.attr("style")}),o=(n=i.attributes).lengt</span>h</span>;o--<span class="cstat-no" title="statement not covered" >;){var d=<span class="fstat-no" title="function not covered" >n[</span>o].name;0===d.indexOf<span class="cstat-no" title="statement not covered" >("data-<span class="cstat-no" title="statement not covered" ></span>mce-p-")&amp;&amp;a.attr(d.substr(11),n[o].value)}"script"===u&amp;&amp;a.attr("type","text/javascript"),(c=i.attr("data-mce-html"))&amp;&amp;((s=new K("#text",3)).raw=!0,s.value=Q(e,unescape(c)),a.append(s)),i.replace(a)}})}),e.on("setContent",function(){e.$("span.mce-preview-object").each(function(t,r){var i=e.$(r);0===i.find("span.mce-shim",r).length&amp;&amp;i.append('&lt;span class="mce-shim"&gt;&lt;/span&gt;')})})},ie=function(e){e.on("ResolveName",function(e){var t;1===e.target.nodeTyp</span>e</span>&amp;&amp;(t<span class="cstat-no" title="statement not covered" >=e.target<span class="fstat-no" title="function not covered" >.g</span>etAttribute("data-mce-object<span class="cstat-no" title="statement not covered" >"))&amp;&amp;(e.name=t)})},ae=function(e){e.on("cli<span class="cstat-no" title="statement not covered" >ck keyup",function(){var t=e.selection.getNode();t&amp;&amp;e.dom.hasClass(t,"mce-preview-object")&amp;&amp;e.dom.getAttrib(t,"data-mce-selected")&amp;&amp;t.setAttribute("data-mce-selected","2")}<span class="cstat-no" title="statement not covered" ></span>)</span>,e.on("ObjectSelected",function(e){var t=e.target.getAttribute("data-mce-object");"audio"!==t&amp;&amp;"script"!==t|</span>|</span>e.pre<span class="cstat-no" title="statement not covered" >ventDefau<span class="fstat-no" title="function not covered" >lt(</span>)}),<span class="cstat-no" title="statement not covered" >e.on("objectResized",fu<span class="cstat-no" title="statement not covered" >nction(e){var t,r=e.target;r.getAttr<span class="cstat-no" title="statement not covered" >ibute("data<span class="cstat-no" title="statement not covered" ></span></span>-</span>mce-object</span>"</span>)&amp;&amp;(t<span class="cstat-no" title="statement not covered" >=r.getAtt<span class="fstat-no" title="function not covered" >rib</span>ute(<span class="cstat-no" title="statement not covered" >"data-m<span class="fstat-no" title="function not covered" >ce</span>-html"))&amp;&amp;(t<span class="cstat-no" title="statement not covered" >=unescape(t),r.setAttribute("data-mc<span class="cstat-no" title="statement not covered" >e-html",escape(A(t,{width:e.width,height:e.height}))))})},oe=function(e){e.addButton("media",{tooltip:"Insert/edit media",cmd:"mceMedia",stateSelector:["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"]}),e.addMenuItem("media",{icon:"media",text:"Media",cmd:"mceMedia",context:"insert",prependToContex</span>t</span>:!</span>0</span>})};e<span class="cstat-no" title="statement not covered" >.add("med<span class="fstat-no" title="function not covered" >ia"</span>,fun<span class="cstat-no" title="statement not covered" >ction(e){return <span class="fstat-no" title="function not covered" >q(</span>e),oe(e),ie(e),re(e<span class="cstat-no" title="statement not covered" >),ae(e),G(e)})}();<span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ><span class="fstat-no" title="function not covered" ></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Thu Mar 15 2018 17:06:20 GMT+0100 (WAT)
</div>
</div>
<script src="../../../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../../../sorter.js"></script>
</body>
</html>
